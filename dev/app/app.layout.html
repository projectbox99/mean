<div class="container-fluid">
    <nav class="navbar"> <!-- navbar-fixed-top, navbar-inverse -->
        <div>
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <a routerLink="/">
                    <h2 class="app-name">Web
                        <span class="app-name-span">Tech</span>
                        <span class="app-name-span2">Ads</span>
                    </h2>
                </a>
            </div>

            <div id="no-shitty-browsers">
                <h1 style="font-size: 3em; color: #eeeeee">No Shitty Browsers, please!</h1>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="bs-navbar-collapse-1">
                <ul class="nav navbar-nav nav-links-container">
                    <li class="li-nav-link"><a class="nav-link" routerLink="/"
                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                        <span class="glyphicon glyphicon-home"></span> Home</a></li>
                    <li class="li-nav-link"><a class="nav-link" routerLink="/about"
                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">About</a></li>
                    <!--<li class="li-nav-link"><a class="nav-link" routerLink="/ads"
                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Ads</a></li>-->
                    <li *ngIf="loggedIn" class="li-nav-link"><a class="nav-link" routerLink="/ads/create"
                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">New Ad</a></li>

                    <li *ngIf="loggedIn" class="li-nav-link"><a class="nav-link" routerLink="/ads/list/{{currentUser.id}}"
                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">My Ads</a></li>
                    <li *ngIf="currenUserRole === 'admin'" class="dropdown li-nav-link" [@navLinkState]="linkState" (click)="toggleLinkState()">
                        <a href="#" id="admin-dropdown" class="dropdown-toggle" data-toggle="dropdown" role="button"
                            aria-haspopup="true" aria-expanded="false">Admin <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li role="separator" class="divider"></li>
                            <li class="menu-item">
                                <a class="nav-link" routerLink="/users" (click)="router.navigate(['/users'])"
                                routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" >
                                <span class="glyphicon glyphicon-align-left"></span> Users</a>
                            </li>
                            <li role="separator" class="divider"></li>
                        </ul>
                    </li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li *ngIf="!loggedIn" class="login-area">
                        <form class="form-inline navbar-form" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
                            <div class="login-group">
                                <!--<label for="username">Username</label>-->
                                <div class="input-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                                    <span class="input-group-addon">
                                        <span class="glyphicon glyphicon-user"></span>
                                    </span>
                                    <input type="text" class="form-control input-sm" name="username" placeholder="Username" 
                                    [(ngModel)]="currentUser.username" id="username" #username="ngModel" required />
                                        <!--<div *ngIf="f.submitted && !username.valid" class="help-block">Username is required
                                        </div>-->
                                </div>
                                <br />
                                <!--<label for="password">Password</label>-->
                                <div class="input-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                                    <span class="input-group-addon">
                                        <span class="glyphicon glyphicon-lock"></span>
                                    </span>
                                    <input type="password" class="form-control input-sm" name="password" placeholder="Password" 
                                    [(ngModel)]="currentUser.password" id="password" #password="ngModel" required />
                                        <!--<div *ngIf="f.submitted && !password.valid" class="help-block">Password is required
                                        </div>-->
                                </div>

                                <div class="input-group login-button-group">
                                    <button [disabled]="loading" class="btn btn-primary">
                                        <span class="glyphicon glyphicon-log-in"></span>  Login</button>
                                    <button [disabled]="loading" class="btn btn-success" (click)="gotoRegistration()">
                                        <span class="glyphicon glyphicon-registration-mark"></span>  Sign up
                                    </button>
                                </div>
                                <div *ngIf="error" class="alert fail">{{error}}</div>
                            </div>
                        </form>
                    </li>

                    <li *ngIf="loggedIn && currentUser && currentUser.username.length">
                        <div class="login-button-group">
                            <p id="hello">Hello, <a class="nav-link profile-link" role="button" (click)="gotoProfile()"><strong>{{currentUser.namesFirst || currentUser.username}}</strong></a></p>
                            <button class="btn btn-default" (click)="logout()">
                                <span class="glyphicon glyphicon-log-in"></span>  Logout
                            </button>
                        </div>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div>
    </nav>

<!--    <div class="col-md-6 col-md-offset-3">
        <div class="alert alert-info">
            Username: test<br />
            Password: test
        </div>
        <h2>Login</h2>
        <form *ngIf="!loggedIn" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                <label for="username">Username</label>
                <input type="text" class="form-control" name="username" [(ngModel)]="currentUser.username" id="username" #username="ngModel" required />
                <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                <label for="password">Password</label>
                <input type="password" class="form-control" name="password" [(ngModel)]="currentUser.password" id="password" #password="ngModel" required />
                <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
            </div>
            <div class="form-group">
                <button [disabled]="loading" class="btn btn-primary">Login</button>
                <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            </div>
            <div *ngIf="error" class="alert alert-danger">{{error}}</div>
        </form>
    </div>
-->

	<!-- Routed views go here -->
	<router-outlet></router-outlet>
</div>

